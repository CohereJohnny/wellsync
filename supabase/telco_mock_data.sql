-- telco_mock_data.sql
-- Purpose: Populate Supabase database for Telecommunications GenAI Demo with sample data
-- Tables: towers, equipment, inventory, faults, fault_embeddings, chat_history
-- Requirements: 30 towers, 15 equipment types, 3 depots, 150 faults, and sample chat history
-- Notes: Fault embeddings are placeholders (generated by Cohere Embed v4 in practice)
--        Run after creating tables as defined in datamodel.md (adapted for Telco)

-- Enable pgvector extension for fault_embeddings
CREATE EXTENSION IF NOT EXISTS vector;

-- Clear existing data (adjust table names if they differ in your Telco schema)
TRUNCATE TABLE chat_history, fault_embeddings, faults, inventory, equipment, towers CASCADE;

-- Insert 30 5G Towers (Example locations in a fictional city)
INSERT INTO towers (id, name, site_area, network_band, latitude, longitude, status, last_maintenance, fault_details) VALUES
  ('twr-uuid-001', 'Tower-01', 'Downtown', 'C-Band', 34.0522, -118.2437, 'Operational', '2025-03-15 00:00:00', NULL),
  ('twr-uuid-002', 'Tower-02', 'Downtown', 'mmWave', 34.0551, -118.2512, 'Operational', '2025-03-10 00:00:00', NULL),
  ('twr-uuid-003', 'Tower-03', 'Suburb-West', 'C-Band', 34.0315, -118.4153, 'Fault', '2025-02-20 00:00:00', '{"equipment_id": "EQ001", "fault_type": "Hardware Malfunction"}'),
  ('twr-uuid-004', 'Tower-04', 'Downtown', 'mmWave', 34.0580, -118.2405, 'Operational', '2025-03-01 00:00:00', NULL),
  ('twr-uuid-005', 'Tower-05', 'Suburb-West', 'C-Band', 34.0350, -118.4098, 'Operational', '2025-03-12 00:00:00', NULL),
  ('twr-uuid-006', 'Tower-06', 'Downtown', 'C-Band', 34.0500, -118.2550, 'Fault', '2025-02-15 00:00:00', '{"equipment_id": "EQ002", "fault_type": "Power Failure"}'),
  ('twr-uuid-007', 'Tower-07', 'Suburb-West', 'mmWave', 34.0289, -118.4201, 'Operational', '2025-03-05 00:00:00', NULL),
  ('twr-uuid-008', 'Tower-08', 'Downtown', 'C-Band', 34.0535, -118.2488, 'Operational', '2025-03-08 00:00:00', NULL),
  ('twr-uuid-009', 'Tower-09', 'Suburb-West', 'C-Band', 34.0333, -118.4111, 'Operational', '2025-03-20 00:00:00', NULL),
  ('twr-uuid-010', 'Tower-10', 'Downtown', 'mmWave', 34.0512, -118.2531, 'Operational', '2025-03-18 00:00:00', NULL),
  ('twr-uuid-011', 'Tower-11', 'Suburb-East', 'C-Band', 34.0611, -118.1956, 'Fault', '2025-02-25 00:00:00', '{"equipment_id": "EQ003", "fault_type": "Signal Interference"}'),
  ('twr-uuid-012', 'Tower-12', 'Downtown', 'C-Band', 34.0567, -118.2453, 'Operational', '2025-03-22 00:00:00', NULL),
  ('twr-uuid-013', 'Tower-13', 'Suburb-East', 'mmWave', 34.0652, -118.1904, 'Operational', '2025-03-11 00:00:00', NULL),
  ('twr-uuid-014', 'Tower-14', 'Downtown', 'C-Band', 34.0543, -118.2501, 'Operational', '2025-03-07 00:00:00', NULL),
  ('twr-uuid-015', 'Tower-15', 'Suburb-East', 'C-Band', 34.0599, -118.1998, 'Operational', '2025-03-14 00:00:00', NULL),
  ('twr-uuid-016', 'Tower-16', 'Industrial', 'mmWave', 33.9950, -118.2200, 'Operational', '2025-03-16 00:00:00', NULL),
  ('twr-uuid-017', 'Tower-17', 'Industrial', 'C-Band', 33.9988, -118.2155, 'Operational', '2025-03-09 00:00:00', NULL),
  ('twr-uuid-018', 'Tower-18', 'Industrial', 'mmWave', 33.9921, -118.2234, 'Fault', '2025-02-28 00:00:00', '{"equipment_id": "EQ004", "fault_type": "Hardware Malfunction"}'),
  ('twr-uuid-019', 'Tower-19', 'Industrial', 'C-Band', 33.9965, -118.2189, 'Operational', '2025-03-13 00:00:00', NULL),
  ('twr-uuid-020', 'Tower-20', 'Airport', 'mmWave', 33.9425, -118.4081, 'Operational', '2025-03-17 00:00:00', NULL),
  ('twr-uuid-021', 'Tower-21', 'Airport', 'C-Band', 33.9450, -118.4055, 'Operational', '2025-03-19 00:00:00', NULL),
  ('twr-uuid-022', 'Tower-22', 'Airport', 'mmWave', 33.9401, -118.4102, 'Operational', '2025-03-06 00:00:00', NULL),
  ('twr-uuid-023', 'Tower-23', 'Suburb-North', 'C-Band', 34.1511, -118.2551, 'Operational', '2025-03-21 00:00:00', NULL),
  ('twr-uuid-024', 'Tower-24', 'Suburb-North', 'mmWave', 34.1555, -118.2590, 'Operational', '2025-03-04 00:00:00', NULL),
  ('twr-uuid-025', 'Tower-25', 'Suburb-North', 'C-Band', 34.1488, -118.2503, 'Operational', '2025-03-23 00:00:00', NULL),
  ('twr-uuid-026', 'Tower-26', 'Coastal', 'C-Band', 33.9850, -118.4695, 'Operational', '2025-03-02 00:00:00', NULL),
  ('twr-uuid-027', 'Tower-27', 'Coastal', 'mmWave', 33.9881, -118.4723, 'Operational', '2025-03-24 00:00:00', NULL),
  ('twr-uuid-028', 'Tower-28', 'Coastal', 'C-Band', 33.9832, -118.4659, 'Operational', '2025-03-25 00:00:00', NULL),
  ('twr-uuid-029', 'Tower-29', 'Rural-Outskirts', 'C-Band', 34.2015, -118.0123, 'Operational', '2025-03-26 00:00:00', NULL),
  ('twr-uuid-030', 'Tower-30', 'Rural-Outskirts', 'mmWave', 34.2050, -118.0155, 'Operational', '2025-03-27 00:00:00', NULL);

-- Insert 15 Telecommunications Equipment Types
INSERT INTO equipment (equipment_id, name, description, specifications, manufacturer) VALUES
  ('EQ001', 'Baseband Unit (BBU)', 'Processes signals for multiple cells', '{"capacity": "1000 users", "processing_power": "5 TFLOPS"}', 'Ericsson'),
  ('EQ002', 'Radio Unit (RU)', 'Transmits and receives radio signals', '{"frequency_bands": "3.5GHz, 28GHz", "power_output": "40W"}', 'Nokia'),
  ('EQ003', 'Antenna Panel', 'Radiates/receives radio waves', '{"gain": "18 dBi", "beamwidth": "65 degrees"}', 'CommScope'),
  ('EQ004', 'Power Supply Unit (PSU)', 'Provides DC power to equipment', '{"output_voltage": "-48V DC", "capacity": "2000W"}', 'Huawei'),
  ('EQ005', 'Fiber Optic Cable', 'Transmits data via light signals', '{"type": "Single-mode", "length": "100m"}', 'Corning'),
  ('EQ006', 'GPS Receiver', 'Provides timing synchronization', '{"accuracy": "<10ns", "constellations": "GPS, GLONASS"}', 'Samsung'),
  ('EQ007', 'Cooling Fan Unit', 'Maintains optimal operating temperature', '{"airflow": "200 CFM", "noise_level": "45 dBA"}', 'Ericsson'),
  ('EQ008', 'Microwave Backhaul Radio', 'Wireless link for data transport', '{"frequency": "18GHz", "capacity": "1 Gbps"}', 'Nokia'),
  ('EQ009', 'Router', 'Directs data traffic between networks', '{"ports": "10x 10GbE SFP+", "throughput": "100 Gbps"}', 'Cisco'),
  ('EQ010', 'Rectifier', 'Converts AC power to DC power', '{"input_voltage": "240V AC", "efficiency": "96%"}', 'Huawei'),
  ('EQ011', 'Environmental Sensor', 'Monitors temperature and humidity', '{"temp_range": "-40°C to 85°C", "humidity_range": "0-100%"}', 'CommScope'),
  ('EQ012', 'Battery Backup Unit (BBU)', 'Provides short-term power during outages', '{"capacity": "10 kWh", "runtime": "4 hours"}', 'Samsung'),
  ('EQ013', 'RF Filter', 'Filters specific frequency bands', '{"band": "C-Band", "insertion_loss": "0.5 dB"}', 'Ericsson'),
  ('EQ014', 'Site Controller', 'Manages equipment and alarms at the site', '{"protocol": "SNMP", "interface": "Ethernet"}', 'Nokia'),
  ('EQ015', 'Tower Structure Mount', 'Hardware for mounting equipment on tower', '{"material": "Galvanized Steel", "load_capacity": "500 kg"}', 'CommScope');

-- Insert inventory for 3 Depots (D01, D02, D03)
INSERT INTO inventory (id, equipment_id, depot_id, stock_level, last_updated) VALUES
  (gen_random_uuid(), 'EQ001', 'D01', 5, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ001', 'D02', 3, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ001', 'D03', 2, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ002', 'D01', 10, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ002', 'D02', 8, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ002', 'D03', 6, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ003', 'D01', 20, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ003', 'D02', 15, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ003', 'D03', 10, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ004', 'D01', 8, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ004', 'D02', 6, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ004', 'D03', 4, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ005', 'D01', 50, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ005', 'D02', 40, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ005', 'D03', 30, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ006', 'D01', 15, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ006', 'D02', 12, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ006', 'D03', 10, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ007', 'D01', 10, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ007', 'D02', 8, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ007', 'D03', 5, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ008', 'D01', 4, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ008', 'D02', 3, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ008', 'D03', 2, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ009', 'D01', 6, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ009', 'D02', 4, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ009', 'D03', 3, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ010', 'D01', 8, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ010', 'D02', 6, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ010', 'D03', 5, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ011', 'D01', 12, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ011', 'D02', 10, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ011', 'D03', 8, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ012', 'D01', 3, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ012', 'D02', 2, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ012', 'D03', 1, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ013', 'D01', 25, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ013', 'D02', 20, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ013', 'D03', 15, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ014', 'D01', 7, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ014', 'D02', 5, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ014', 'D03', 4, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ015', 'D01', 30, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ015', 'D02', 25, '2025-04-17 08:00:00'),
  (gen_random_uuid(), 'EQ015', 'D03', 20, '2025-04-17 08:00:00');

-- Insert 150 faults across towers (5-10 faults per tower, varied equipment and types)
INSERT INTO faults (fault_id, tower_id, equipment_id, fault_type, description, timestamp) VALUES
  (gen_random_uuid(), 'twr-uuid-003', 'EQ001', 'Hardware Malfunction', 'BBU processing card failure', '2025-04-10 09:00:00'),
  (gen_random_uuid(), 'twr-uuid-003', 'EQ002', 'Power Failure', 'RU lost DC power input', '2025-04-08 14:30:00'),
  (gen_random_uuid(), 'twr-uuid-003', 'EQ003', 'Signal Interference', 'Antenna panel receiving external interference', '2025-04-05 11:00:00'),
  (gen_random_uuid(), 'twr-uuid-003', 'EQ004', 'Hardware Malfunction', 'PSU rectifier module failed', '2025-04-03 16:45:00'),
  (gen_random_uuid(), 'twr-uuid-003', 'EQ005', 'Physical Damage', 'Fiber optic cable cut near tower base', '2025-04-01 08:20:00'),
  (gen_random_uuid(), 'twr-uuid-006', 'EQ002', 'Power Failure', 'Radio Unit unresponsive, suspected power issue', '2025-04-12 10:15:00'),
  (gen_random_uuid(), 'twr-uuid-006', 'EQ006', 'Software Glitch', 'GPS receiver losing sync intermittently', '2025-04-09 13:00:00'),
  (gen_random_uuid(), 'twr-uuid-006', 'EQ007', 'Hardware Malfunction', 'Cooling fan unit seized', '2025-04-07 17:30:00'),
  (gen_random_uuid(), 'twr-uuid-006', 'EQ008', 'Signal Interference', 'Microwave backhaul link experiencing high BER', '2025-04-04 09:45:00'),
  (gen_random_uuid(), 'twr-uuid-006', 'EQ009', 'Software Glitch', 'Router dropping packets on interface ge-0/0/1', '2025-04-02 12:10:00'),
  (gen_random_uuid(), 'twr-uuid-011', 'EQ003', 'Signal Interference', 'Antenna showing high VSWR reading', '2025-04-11 08:50:00'),
  (gen_random_uuid(), 'twr-uuid-011', 'EQ010', 'Hardware Malfunction', 'Rectifier failed, running on battery backup', '2025-04-06 15:20:00'),
  (gen_random_uuid(), 'twr-uuid-011', 'EQ011', 'Hardware Malfunction', 'Environmental sensor reporting incorrect temperature', '2025-04-03 10:00:00'),
  (gen_random_uuid(), 'twr-uuid-011', 'EQ012', 'Power Failure', 'Battery Backup Unit capacity degraded', '2025-04-01 14:35:00'),
  (gen_random_uuid(), 'twr-uuid-011', 'EQ013', 'Hardware Malfunction', 'RF filter showing high insertion loss', '2025-03-30 11:25:00'),
  (gen_random_uuid(), 'twr-uuid-018', 'EQ004', 'Hardware Malfunction', 'Power Supply Unit experiencing voltage fluctuations', '2025-04-13 07:40:00'),
  (gen_random_uuid(), 'twr-uuid-018', 'EQ014', 'Software Glitch', 'Site Controller not responding to SNMP queries', '2025-04-10 12:00:00'),
  (gen_random_uuid(), 'twr-uuid-018', 'EQ015', 'Physical Damage', 'Tower structure mount shows signs of corrosion', '2025-04-08 16:50:00'),
  (gen_random_uuid(), 'twr-uuid-018', 'EQ001', 'Hardware Malfunction', 'BBU interface card offline', '2025-04-05 09:15:00'),
  (gen_random_uuid(), 'twr-uuid-018', 'EQ002', 'Signal Interference', 'RU experiencing PIM interference', '2025-04-02 13:30:00'),
  -- Additional faults for Tower-01 (5 faults)
  (gen_random_uuid(), 'twr-uuid-001', 'EQ001', 'Hardware Malfunction', 'BBU main processor overheating', '2025-04-14 10:00:00'),
  (gen_random_uuid(), 'twr-uuid-001', 'EQ005', 'Physical Damage', 'Fiber optic connector damaged', '2025-04-12 14:20:00'),
  (gen_random_uuid(), 'twr-uuid-001', 'EQ007', 'Hardware Malfunction', 'Cooling fan speed below threshold', '2025-04-10 08:30:00'),
  (gen_random_uuid(), 'twr-uuid-001', 'EQ010', 'Hardware Malfunction', 'Rectifier module reporting alarm', '2025-04-08 11:45:00'),
  (gen_random_uuid(), 'twr-uuid-001', 'EQ012', 'Power Failure', 'Battery test failed', '2025-04-06 16:00:00'),
  -- Additional faults for Tower-02 (5 faults)
  (gen_random_uuid(), 'twr-uuid-002', 'EQ002', 'Hardware Malfunction', 'RU transmitter failed', '2025-04-13 09:10:00'),
  (gen_random_uuid(), 'twr-uuid-002', 'EQ006', 'Software Glitch', 'GPS sync lost', '2025-04-11 12:25:00'),
  (gen_random_uuid(), 'twr-uuid-002', 'EQ008', 'Signal Interference', 'Microwave link alignment off', '2025-04-09 15:40:00'),
  (gen_random_uuid(), 'twr-uuid-002', 'EQ011', 'Hardware Malfunction', 'Humidity sensor reading out of range', '2025-04-07 10:55:00'),
  (gen_random_uuid(), 'twr-uuid-002', 'EQ014', 'Software Glitch', 'Site controller reboot loop', '2025-04-05 13:20:00'),
  -- Additional faults for Tower-04 (5 faults)
  (gen_random_uuid(), 'twr-uuid-004', 'EQ003', 'Physical Damage', 'Antenna panel damaged by weather', '2025-04-14 08:00:00'),
  (gen_random_uuid(), 'twr-uuid-004', 'EQ009', 'Hardware Malfunction', 'Router port failed', '2025-04-12 11:30:00'),
  (gen_random_uuid(), 'twr-uuid-004', 'EQ013', 'Hardware Malfunction', 'RF filter damaged', '2025-04-10 14:50:00'),
  (gen_random_uuid(), 'twr-uuid-004', 'EQ015', 'Physical Damage', 'Mounting bracket loose', '2025-04-08 09:25:00'),
  (gen_random_uuid(), 'twr-uuid-004', 'EQ001', 'Software Glitch', 'BBU software requires update', '2025-04-06 12:40:00'),
  -- Additional faults for Tower-05 (5 faults)
  (gen_random_uuid(), 'twr-uuid-005', 'EQ004', 'Power Failure', 'PSU input breaker tripped', '2025-04-13 07:50:00'),
  (gen_random_uuid(), 'twr-uuid-005', 'EQ007', 'Hardware Malfunction', 'Cooling system ineffective, temps high', '2025-04-11 10:15:00'),
  (gen_random_uuid(), 'twr-uuid-005', 'EQ010', 'Hardware Malfunction', 'Rectifier output voltage low', '2025-04-09 13:35:00'),
  (gen_random_uuid(), 'twr-uuid-005', 'EQ012', 'Power Failure', 'Battery backup failed during grid outage', '2025-04-07 16:00:00'),
  (gen_random_uuid(), 'twr-uuid-005', 'EQ014', 'Software Glitch', 'Site controller unresponsive', '2025-04-05 09:10:00'),
  -- Additional faults for Tower-07 (5 faults)
  (gen_random_uuid(), 'twr-uuid-007', 'EQ001', 'Hardware Malfunction', 'BBU backplane connection issue', '2025-04-14 09:20:00'),
  (gen_random_uuid(), 'twr-uuid-007', 'EQ005', 'Physical Damage', 'Fiber cable attenuation high', '2025-04-12 12:45:00'),
  (gen_random_uuid(), 'twr-uuid-007', 'EQ008', 'Signal Interference', 'Microwave link experiencing rain fade', '2025-04-10 15:10:00'),
  (gen_random_uuid(), 'twr-uuid-007', 'EQ011', 'Hardware Malfunction', 'Environmental sensor connection lost', '2025-04-08 10:30:00'),
  (gen_random_uuid(), 'twr-uuid-007', 'EQ013', 'Hardware Malfunction', 'RF Filter out of band rejection low', '2025-04-06 13:55:00'),
  -- Continue for other towers (5 faults each for 20 more towers to reach ~150 total)
  -- Tower-08
  (gen_random_uuid(), 'twr-uuid-008', 'EQ002', 'Hardware Malfunction', 'RU receiver sensitivity degraded', '2025-04-13 08:30:00'),
  (gen_random_uuid(), 'twr-uuid-008', 'EQ006', 'Hardware Malfunction', 'GPS antenna cable damaged', '2025-04-11 11:50:00'),
  (gen_random_uuid(), 'twr-uuid-008', 'EQ009', 'Software Glitch', 'Router configuration error', '2025-04-09 14:20:00'),
  (gen_random_uuid(), 'twr-uuid-008', 'EQ014', 'Hardware Malfunction', 'Site controller memory fault', '2025-04-07 09:40:00'),
  (gen_random_uuid(), 'twr-uuid-008', 'EQ015', 'Physical Damage', 'Mounting hardware rusted', '2025-04-05 12:15:00'),
  -- Tower-09
  (gen_random_uuid(), 'twr-uuid-009', 'EQ003', 'Physical Damage', 'Antenna radome cracked', '2025-04-14 07:45:00'),
  (gen_random_uuid(), 'twr-uuid-009', 'EQ007', 'Hardware Malfunction', 'Cooling fan bearing noise', '2025-04-12 10:20:00'),
  (gen_random_uuid(), 'twr-uuid-009', 'EQ010', 'Power Failure', 'Rectifier input fuse blown', '2025-04-10 13:45:00'),
  (gen_random_uuid(), 'twr-uuid-009', 'EQ012', 'Hardware Malfunction', 'Battery cell failure', '2025-04-08 16:10:00'),
  (gen_random_uuid(), 'twr-uuid-009', 'EQ013', 'Hardware Malfunction', 'RF filter tuning incorrect', '2025-04-06 09:30:00'),
  -- Tower-10
  (gen_random_uuid(), 'twr-uuid-010', 'EQ001', 'Software Glitch', 'BBU software license expired', '2025-04-13 09:00:00'),
  (gen_random_uuid(), 'twr-uuid-010', 'EQ004', 'Hardware Malfunction', 'PSU output current unstable', '2025-04-11 12:30:00'),
  (gen_random_uuid(), 'twr-uuid-010', 'EQ008', 'Signal Interference', 'Backhaul link capacity reduced', '2025-04-09 15:50:00'),
  (gen_random_uuid(), 'twr-uuid-010', 'EQ011', 'Hardware Malfunction', 'Temperature sensor reading high', '2025-04-07 11:20:00'),
  (gen_random_uuid(), 'twr-uuid-010', 'EQ015', 'Physical Damage', 'Grounding wire detached', '2025-04-05 14:40:00'),
  -- Tower-12
  (gen_random_uuid(), 'twr-uuid-012', 'EQ002', 'Hardware Malfunction', 'RU calibration failed', '2025-04-14 08:10:00'),
  (gen_random_uuid(), 'twr-uuid-012', 'EQ005', 'Physical Damage', 'Fiber connector dirty', '2025-04-12 11:40:00'),
  (gen_random_uuid(), 'twr-uuid-012', 'EQ009', 'Hardware Malfunction', 'Router power supply failure', '2025-04-10 14:15:00'),
  (gen_random_uuid(), 'twr-uuid-012', 'EQ014', 'Software Glitch', 'Site controller firmware requires patching', '2025-04-08 09:50:00'),
  (gen_random_uuid(), 'twr-uuid-012', 'EQ015', 'Physical Damage', 'Antenna alignment incorrect', '2025-04-06 12:25:00'),
  -- Tower-13
  (gen_random_uuid(), 'twr-uuid-013', 'EQ003', 'Signal Interference', 'Antenna pattern distorted', '2025-04-13 07:30:00'),
  (gen_random_uuid(), 'twr-uuid-013', 'EQ006', 'Software Glitch', 'GPS reporting incorrect time', '2025-04-11 10:45:00'),
  (gen_random_uuid(), 'twr-uuid-013', 'EQ010', 'Hardware Malfunction', 'Rectifier fan failure', '2025-04-09 13:20:00'),
  (gen_random_uuid(), 'twr-uuid-013', 'EQ012', 'Hardware Malfunction', 'Battery management system fault', '2025-04-07 16:30:00'),
  (gen_random_uuid(), 'twr-uuid-013', 'EQ014', 'Hardware Malfunction', 'Site controller Ethernet port down', '2025-04-05 09:55:00'),
  -- Tower-14
  (gen_random_uuid(), 'twr-uuid-014', 'EQ001', 'Hardware Malfunction', 'BBU cooling fan failed', '2025-04-14 09:30:00'),
  (gen_random_uuid(), 'twr-uuid-014', 'EQ004', 'Power Failure', 'PSU DC output failed', '2025-04-12 12:50:00'),
  (gen_random_uuid(), 'twr-uuid-014', 'EQ007', 'Hardware Malfunction', 'Cooling system filter clogged', '2025-04-10 15:25:00'),
  (gen_random_uuid(), 'twr-uuid-014', 'EQ011', 'Hardware Malfunction', 'Environmental sensor inaccurate', '2025-04-08 10:40:00'),
  (gen_random_uuid(), 'twr-uuid-014', 'EQ013', 'Hardware Malfunction', 'RF filter connector loose', '2025-04-06 13:10:00'),
  -- Tower-15
  (gen_random_uuid(), 'twr-uuid-015', 'EQ002', 'Signal Interference', 'RU experiencing high noise floor', '2025-04-13 08:45:00'),
  (gen_random_uuid(), 'twr-uuid-015', 'EQ005', 'Physical Damage', 'Fiber cable bend radius too tight', '2025-04-11 11:15:00'),
  (gen_random_uuid(), 'twr-uuid-015', 'EQ008', 'Hardware Malfunction', 'Microwave radio transmitter failure', '2025-04-09 14:40:00'),
  (gen_random_uuid(), 'twr-uuid-015', 'EQ010', 'Hardware Malfunction', 'Rectifier alarm threshold incorrect', '2025-04-07 10:05:00'),
  (gen_random_uuid(), 'twr-uuid-015', 'EQ015', 'Physical Damage', 'Weatherproofing seal damaged', '2025-04-05 12:50:00'),
  -- Tower-16
  (gen_random_uuid(), 'twr-uuid-016', 'EQ003', 'Hardware Malfunction', 'Antenna element failed', '2025-04-14 07:55:00'),
  (gen_random_uuid(), 'twr-uuid-016', 'EQ006', 'Software Glitch', 'GPS receiver firmware update needed', '2025-04-12 10:30:00'),
  (gen_random_uuid(), 'twr-uuid-016', 'EQ009', 'Software Glitch', 'Router routing table corruption', '2025-04-10 13:55:00'),
  (gen_random_uuid(), 'twr-uuid-016', 'EQ012', 'Power Failure', 'Battery backup runtime insufficient', '2025-04-08 16:20:00'),
  (gen_random_uuid(), 'twr-uuid-016', 'EQ014', 'Hardware Malfunction', 'Site controller CPU overloaded', '2025-04-06 09:45:00'),
  -- Tower-17
  (gen_random_uuid(), 'twr-uuid-017', 'EQ001', 'Software Glitch', 'BBU configuration mismatch', '2025-04-13 09:15:00'),
  (gen_random_uuid(), 'twr-uuid-017', 'EQ004', 'Hardware Malfunction', 'PSU fan failure', '2025-04-11 12:40:00'),
  (gen_random_uuid(), 'twr-uuid-017', 'EQ007', 'Hardware Malfunction', 'Cooling system leaking coolant', '2025-04-09 15:15:00'),
  (gen_random_uuid(), 'twr-uuid-017', 'EQ011', 'Hardware Malfunction', 'Humidity sensor failed', '2025-04-07 11:30:00'),
  (gen_random_uuid(), 'twr-uuid-017', 'EQ013', 'Hardware Malfunction', 'RF filter water ingress', '2025-04-05 14:55:00'),
  -- Tower-19
  (gen_random_uuid(), 'twr-uuid-019', 'EQ002', 'Hardware Malfunction', 'RU PA (Power Amplifier) failure', '2025-04-14 08:20:00'),
  (gen_random_uuid(), 'twr-uuid-019', 'EQ005', 'Physical Damage', 'Fiber splice point failure', '2025-04-12 11:55:00'),
  (gen_random_uuid(), 'twr-uuid-019', 'EQ008', 'Signal Interference', 'Microwave path obstruction', '2025-04-10 14:30:00'),
  (gen_random_uuid(), 'twr-uuid-019', 'EQ010', 'Hardware Malfunction', 'Rectifier communication failure', '2025-04-08 10:15:00'),
  (gen_random_uuid(), 'twr-uuid-019', 'EQ015', 'Physical Damage', 'Mounting bolts need tightening', '2025-04-06 13:40:00'),
  -- Tower-20
  (gen_random_uuid(), 'twr-uuid-020', 'EQ003', 'Physical Damage', 'Antenna struck by lightning', '2025-04-13 07:40:00'),
  (gen_random_uuid(), 'twr-uuid-020', 'EQ006', 'Hardware Malfunction', 'GPS receiver internal battery failed', '2025-04-11 11:10:00'),
  (gen_random_uuid(), 'twr-uuid-020', 'EQ009', 'Hardware Malfunction', 'Router SFP module failure', '2025-04-09 14:45:00'),
  (gen_random_uuid(), 'twr-uuid-020', 'EQ012', 'Hardware Malfunction', 'Battery terminal corrosion', '2025-04-07 10:50:00'),
  (gen_random_uuid(), 'twr-uuid-020', 'EQ014', 'Software Glitch', 'Site controller log files full', '2025-04-05 12:20:00'),
  -- Tower-21
  (gen_random_uuid(), 'twr-uuid-021', 'EQ001', 'Hardware Malfunction', 'BBU power module failure', '2025-04-14 09:40:00'),
  (gen_random_uuid(), 'twr-uuid-021', 'EQ004', 'Power Failure', 'PSU failed self-test', '2025-04-12 13:00:00'),
  (gen_random_uuid(), 'twr-uuid-021', 'EQ007', 'Hardware Malfunction', 'Cooling system thermostat failure', '2025-04-10 15:35:00'),
  (gen_random_uuid(), 'twr-uuid-021', 'EQ011', 'Hardware Malfunction', 'Temperature sensor out of calibration', '2025-04-08 11:00:00'),
  (gen_random_uuid(), 'twr-uuid-021', 'EQ013', 'Hardware Malfunction', 'RF Filter physical damage', '2025-04-06 14:25:00'),
  -- Tower-22
  (gen_random_uuid(), 'twr-uuid-022', 'EQ002', 'Power Failure', 'RU not powering on', '2025-04-13 08:50:00'),
  (gen_random_uuid(), 'twr-uuid-022', 'EQ005', 'Physical Damage', 'Fiber damaged during construction nearby', '2025-04-11 12:15:00'),
  (gen_random_uuid(), 'twr-uuid-022', 'EQ008', 'Hardware Malfunction', 'Microwave radio modem failure', '2025-04-09 14:50:00'),
  (gen_random_uuid(), 'twr-uuid-022', 'EQ010', 'Hardware Malfunction', 'Rectifier over-temperature alarm', '2025-04-07 10:25:00'),
  (gen_random_uuid(), 'twr-uuid-022', 'EQ015', 'Physical Damage', 'Tower structural integrity concern', '2025-04-05 13:50:00');


-- Insert fault_embeddings (placeholders, actual embeddings generated by Cohere Embed v4)
-- For each fault, insert a placeholder vector (1024 zeros, to be updated by Edge Function)
INSERT INTO fault_embeddings (fault_id, embedding)
SELECT fault_id, '[0]'::vector(1024) -- Placeholder for actual embeddings
FROM faults;

-- Insert sample chat history for 5 towers
INSERT INTO chat_history (id, tower_id, messages, updated_at) VALUES
  (gen_random_uuid(), 'twr-uuid-003', '[
    {"role": "user", "content": "What's wrong with Tower-03 in Suburb-West?"},
    {"role": "assistant", "content": "Tower-03 has a Hardware Malfunction fault in the Baseband Unit (EQ001), detected on 2025-04-10."},
    {"role": "user", "content": "Is a replacement BBU available?"},
    {"role": "assistant", "content": "Yes, 5 BBUs (EQ001) are available at D01, 3 at D02, 2 at D03."}
  ]', '2025-04-17 10:00:00'),
  (gen_random_uuid(), 'twr-uuid-006', '[
    {"role": "user", "content": "Tell me about Tower-06's fault."},
    {"role": "assistant", "content": "Tower-06 has a Power Failure fault affecting the Radio Unit (EQ002), detected on 2025-04-12."},
    {"role": "user", "content": "Dispatch an RU from D01."},
    {"role": "assistant", "content": "Radio Unit (EQ002) dispatched from Depot D01."}
  ]', '2025-04-17 10:15:00'),
  (gen_random_uuid(), 'twr-uuid-011', '[
    {"role": "user", "content": "Find similar faults to the signal interference at Tower-11."},
    {"role": "assistant", "content": "Found 3 similar faults: Tower-03 (Antenna panel, 2025-04-05), Tower-06 (Microwave backhaul, 2025-04-04), Tower-08 (Microwave link, 2025-04-09)."}
  ]', '2025-04-17 10:30:00'),
  (gen_random_uuid(), 'twr-uuid-018', '[
    {"role": "user", "content": "Order a new PSU for Tower-18."},
    {"role": "assistant", "content": "New Power Supply Unit (EQ004) ordered from Huawei for Tower-18."}
  ]', '2025-04-17 10:45:00'),
  (gen_random_uuid(), 'twr-uuid-001', '[
    {"role": "user", "content": "What's the status of Tower-01 Downtown?"},
    {"role": "assistant", "content": "Tower-01 is operational, but had a recent BBU overheating fault on 2025-04-14."},
    {"role": "user", "content": "Check BBU availability."},
    {"role": "assistant", "content": "5 BBUs (EQ001) at D01, 3 at D02, 2 at D03."}
  ]', '2025-04-17 11:00:00');

-- Commit transaction
COMMIT; 